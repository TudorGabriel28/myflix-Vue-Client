(function(e){function t(t){for(var n,c,i=t[0],o=t[1],u=t[2],d=0,p=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&p.push(a[c][0]),a[c]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);l&&l(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,i=1;i<r.length;i++){var o=r[i];0!==a[o]&&(n=!1)}n&&(s.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={index:0},s=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=o;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"031b":function(e,t,r){"use strict";r("8ab5")},"0dfa":function(e,t,r){"use strict";r("380f")},"218f":function(e,t,r){"use strict";r("37c1")},"37c1":function(e,t,r){},"380f":function(e,t,r){},"4bd1":function(e,t,r){"use strict";r("cffa")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("830f"),a=r("5c40");function s(e,t,r,n,s,c){var i=Object(a["D"])("NavigationBar"),o=Object(a["D"])("router-view");return Object(a["y"])(),Object(a["e"])(a["b"],null,[Object(a["j"])(i),Object(a["j"])(o)],64)}var c=r("5bb0"),i=r.n(c),o=Object(a["O"])("data-v-2960d9d9");Object(a["B"])("data-v-2960d9d9");var u={class:"navbar pt-4 pb-5"},l=Object(a["j"])("div",{class:"navbar-brand"},[Object(a["j"])("img",{src:i.a})],-1),d={key:0,class:"navbar-nav me-auto mb-2 mb-lg-0 flex-row ms-5"},p=Object(a["i"])("Home"),b=Object(a["i"])("Categories"),m=Object(a["i"])("Friends"),j=Object(a["i"])("Add Movie"),f=Object(a["j"])("i",{class:"fas fa-user-circle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},null,-1),v={class:"dropdown-menu",id:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},O=Object(a["i"])("Edit profile"),g=Object(a["i"])("Inventory"),h=Object(a["j"])("li",null,[Object(a["j"])("hr",{class:"dropdown-divider"})],-1);Object(a["z"])();var w=o((function(e,t,r,n,s,c){var i=Object(a["D"])("router-link"),w=Object(a["D"])("Search"),y=Object(a["E"])("click-outside");return Object(a["y"])(),Object(a["e"])("div",u,[l,n.isLoggedIn?(Object(a["y"])(),Object(a["e"])("div",d,[Object(a["j"])(i,{class:"nav-item pe-3",to:{name:"HomePage"}},{default:o((function(){return[p]})),_:1}),Object(a["j"])(i,{class:"nav-item pe-3",to:{name:"HomePage"}},{default:o((function(){return[b]})),_:1}),Object(a["j"])(i,{class:"nav-item pe-3",to:{name:"HomePage"}},{default:o((function(){return[m]})),_:1}),Object(a["j"])(i,{class:"nav-item pe-1",to:{name:"AddMovie"}},{default:o((function(){return[j]})),_:1})])):Object(a["f"])("",!0),n.isLoggedIn?(Object(a["y"])(),Object(a["e"])(w,{key:1,class:"px-5",onSearchKeyword:n.searchInput},null,8,["onSearchKeyword"])):Object(a["f"])("",!0),n.isLoggedIn?Object(a["N"])((Object(a["y"])(),Object(a["e"])("div",{key:2,class:"dropdown",onClick:t[2]||(t[2]=function(){return n.toggleDropdown.apply(n,arguments)})},[f,Object(a["j"])("ul",v,[Object(a["j"])("li",null,[Object(a["j"])(i,{class:"dropdown-item",to:{name:"Login"}},{default:o((function(){return[O]})),_:1})]),Object(a["j"])("li",null,[Object(a["j"])(i,{class:"dropdown-item",to:{name:"Login"}},{default:o((function(){return[g]})),_:1})]),h,Object(a["j"])("li",null,[Object(a["j"])("button",{class:"dropdown-item",onClick:t[1]||(t[1]=function(){return n.logout.apply(n,arguments)})},"Logout")])])],512)),[[y,n.removeDropdown]]):Object(a["f"])("",!0)])})),y=r("1da1"),x=(r("96cf"),Object(a["O"])("data-v-6b5a56e9"));Object(a["B"])("data-v-6b5a56e9");var k={class:"row"},L={class:"col-8 my-0"},R={class:"col-4"};Object(a["z"])();var P=x((function(e,t,r,s,c,i){return Object(a["y"])(),Object(a["e"])("div",k,[Object(a["j"])("div",L,[Object(a["N"])(Object(a["j"])("input",{class:"my-0 input-small",placeholder:"Search a movie","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.keyword=e})},null,512),[[n["b"],s.keyword]])]),Object(a["j"])("div",R,[Object(a["j"])("button",{class:"button-small px-3",onClick:t[2]||(t[2]=function(){return s.searchKeyword.apply(s,arguments)})},"Search")])])})),M=r("a1e9"),I={name:"Search",emits:["searchKeyword"],setup:function(e,t){var r=Object(M["l"])("");function n(){t.emit("searchKeyword",r.value)}return{keyword:r,searchKeyword:n}}};r("8c52");I.render=P,I.__scopeId="data-v-6b5a56e9";var C=I,S=r("6c02"),E=r("5502"),_={beforeMount:function(e,t,r){e.clickOutsideEvent=function(r){e===r.target||e.contains(r.target)||t.value(r,e)},document.body.addEventListener("click",e.clickOutsideEvent)},unmounted:function(e){document.body.removeEventListener("click",e.clickOutsideEvent)}},W=r("d4ec"),A=r("bee2"),z=(r("d3b7"),r("bc3a")),N=r.n(z),q=r("6690"),U=Object(a["O"])("data-v-e829f5a0");Object(a["B"])("data-v-e829f5a0");var T={class:"background-wrapper"},B={class:"center-container col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-xl-4 offset-xl-4 col-xxl-3 offset-xxl-4"},V={class:"form-container px-5 py-5"},D=Object(a["j"])("h3",{class:"h3 title pb-3","data-test-id":"title"},"Sign In",-1),F={class:"red","data-test-id":"login-email-error"},H={class:"red","data-test-id":"login-password-error"},K={class:"row pt-5"},Y=Object(a["j"])("div",{class:"col-sm-6 text-center text-sm-start"},[Object(a["j"])("button",{class:"button"},"Log in")],-1),Z={class:"col-sm-6 text-center text-sm-start"},$=Object(a["j"])("p",{class:"mb-0"},"New around here?",-1),G=Object(a["i"])("Register now"),J={class:"form-message"},Q=Object(a["i"])("Forgot your password?"),X=Object(a["i"])("Reset your password");Object(a["z"])();var ee=U((function(e,t,r,s,c,i){var o=Object(a["D"])("router-link");return Object(a["y"])(),Object(a["e"])("div",T,[Object(a["j"])("div",B,[Object(a["j"])("div",V,[D,Object(a["j"])("form",{"data-test-id":"login-form",onSubmit:t[3]||(t[3]=Object(n["c"])((function(){return s.loginUser.apply(s,arguments)}),["prevent"]))},[Object(a["N"])(Object(a["j"])("input",{class:"input",type:"text",placeholder:"Email address","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.email=e}),"data-test-id":"login-email-input"},null,512),[[n["b"],s.email]]),Object(a["j"])("div",F,Object(q["C"])(s.emailError),1),Object(a["N"])(Object(a["j"])("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.password=e}),"data-test-id":"login-password-input"},null,512),[[n["b"],s.password]]),Object(a["j"])("div",H,Object(q["C"])(s.passwordError),1),Object(a["j"])("div",K,[Y,Object(a["j"])("div",Z,[$,Object(a["j"])(o,{to:{name:"Register"}},{default:U((function(){return[G]})),_:1})])])],32),Object(a["j"])("div",J,[Object(a["j"])("p",null,[Q,Object(a["j"])(o,{to:{name:"ForgotPassword"}},{default:U((function(){return[X]})),_:1})])])])])])})),te=r("7bb1");function re(e){var t=/^\s/;return!(!e||t.test(e))||"This is required"}function ne(e){if(!e)return"This is required";var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return!!t.test(String(e).toLowerCase())||"Please enter a valid email address"}function ae(e){if(!e)return"This is required";var t=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/;return!!t.test(e)||"Minimum 8 characters, one uppercase, one lowercase letter and one number"}var se=r("3d20"),ce=r.n(se),ie=ce.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",ce.a.stopTimer),e.addEventListener("mouseleave",ce.a.resumeTimer)}}),oe={setup:function(){var e=Object(S["c"])(),t=Object(S["d"])(),r=Object(E["b"])(),n=Object(te["b"])(),a=n.handleSubmit,s=a(function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(n){var a,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=n.email,s=n.password,e.prev=1,e.next=4,r.dispatch("loginUser",{email:a,password:s});case 4:t.push({name:"HomePage"}),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](1),c=e.t0.response.data.statusCode,"409"==c?ie.fire({icon:"info",title:e.t0.response.data.message}):ie.fire({icon:"error",title:e.t0.response.data.message});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()),c=Object(te["a"])("email",ne),i=c.errorMessage,o=c.value,u=Object(te["a"])("password",ae),l=u.errorMessage,d=u.value;return e&&e.params.alert&&ie.fire({icon:e.params.alertIcon,title:e.params.alertMessage}),{email:o,emailError:i,password:d,passwordError:l,loginUser:s}}};oe.render=ee,oe.__scopeId="data-v-e829f5a0";var ue=oe,le={class:"row align-items-center"},de={class:"center-container col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-xl-4 offset-xl-4"},pe={class:"form-container px-5 py-5"},be=Object(a["j"])("h3",{class:"h3 title","data-test-id":"title"},"Sign Up",-1),me={class:"red","data-test-id":"register-first-name-error"},je={class:"red","data-test-id":"register-last-name-error"},fe={class:"red","data-test-id":"register-email-error"},ve={class:"red","data-test-id":"register-password-error"},Oe={class:"red","data-test-id":"register-confirm-password-error"},ge=Object(a["j"])("div",{class:"pt-5"},[Object(a["j"])("button",{class:"button",type:"submit"},"Sign Up")],-1),he={class:"form-message"},we=Object(a["i"])("Already signed up? Use your email and password to"),ye=Object(a["i"])("log in");function xe(e,t,r,s,c,i){var o=Object(a["D"])("router-link");return Object(a["y"])(),Object(a["e"])("div",le,[Object(a["j"])("div",de,[Object(a["j"])("div",pe,[be,Object(a["j"])("form",{onSubmit:t[7]||(t[7]=Object(n["c"])((function(){return s.registerUser.apply(s,arguments)}),["prevent"]))},[Object(a["N"])(Object(a["j"])("input",{class:"input",type:"text",placeholder:"First Name","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.firstname=e}),"data-test-id":"register-first-name-input"},null,512),[[n["b"],s.firstname]]),Object(a["j"])("span",me,Object(q["C"])(s.firstNameError),1),Object(a["N"])(Object(a["j"])("input",{class:"input",type:"text",placeholder:"Last Name","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.lastname=e}),"data-test-id":"register-last-name-input"},null,512),[[n["b"],s.lastname]]),Object(a["j"])("span",je,Object(q["C"])(s.lastNameError),1),Object(a["N"])(Object(a["j"])("input",{class:"input",type:"text",placeholder:"Nickname","onUpdate:modelValue":t[3]||(t[3]=function(e){return s.nickname=e}),"data-test-id":"register-nickname-input"},null,512),[[n["b"],s.nickname]]),Object(a["N"])(Object(a["j"])("input",{class:"input",type:"text",placeholder:"Email address","onUpdate:modelValue":t[4]||(t[4]=function(e){return s.email=e}),"data-test-id":"register-email-input"},null,512),[[n["b"],s.email]]),Object(a["j"])("span",fe,Object(q["C"])(s.emailError),1),Object(a["N"])(Object(a["j"])("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":t[5]||(t[5]=function(e){return s.password=e}),"data-test-id":"register-password-input"},null,512),[[n["b"],s.password]]),Object(a["j"])("span",ve,Object(q["C"])(s.passwordError),1),Object(a["N"])(Object(a["j"])("input",{class:"input",type:"password",placeholder:"Confirm password","onUpdate:modelValue":t[6]||(t[6]=function(e){return s.confirmPassword=e}),"data-test-id":"register-confirm-password-input"},null,512),[[n["b"],s.confirmPassword]]),Object(a["j"])("span",Oe,Object(q["C"])(s.confirmPasswordError),1),ge],32),Object(a["j"])("div",he,[Object(a["j"])("p",null,[we,Object(a["j"])(o,{to:{name:"Login"}},{default:Object(a["M"])((function(){return[ye]})),_:1})])])])])])}r("99af");var ke=function(){function e(){Object(W["a"])(this,e)}return Object(A["a"])(e,[{key:"authenticate",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Wr.post("/account/authenticate",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"registerUser",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Wr.post("/account/register",t);case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"activateAccount",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Wr.post("account/verify-email",{token:t});case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendForgotPasswordEmail",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Wr.post("/api/users/forgot-password",t);case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"validateResetPasswordToken",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Wr.get("/api/users/reset-password/".concat(t.userId,"/").concat(t.token));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updatePassword",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Wr.put("/api/users/reset-password/".concat(t.userId,"/").concat(t.token),r);case 2:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getAllUsers",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Wr.get("/api/users/manager/");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Le=new ke,Re={setup:function(){var e=Object(M["l"])(""),t=Object(te["b"])(),r=t.handleSubmit,n=Object(te["a"])("firstname",re),a=n.errorMessage,s=n.value,c=Object(te["a"])("lastname",re),i=c.errorMessage,o=c.value,u=Object(te["a"])("email",ne),l=u.errorMessage,d=u.value,p=Object(te["a"])("password",ae),b=p.errorMessage,m=p.value,j=Object(te["a"])("confirmPassword",(function(e){return e===m.value||"Passwords are not the same."})),f=j.errorMessage,v=j.value,O=r(function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(r){var n,a,s,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=r.firstname,a=r.lastname,s=r.email,c=r.password,i=r.confirmPassword,t.prev=1,t.next=4,Le.registerUser({firstname:n,lastname:a,nickname:e.value,email:s,password:c,confirmPassword:i,acceptTerms:!0});case 4:ie.fire({icon:"success",title:"Register complete"}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),ie.fire({icon:"error",title:"Something went wrong"});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}());return{registerUser:O,firstname:s,lastname:o,nickname:e,email:d,password:m,confirmPassword:v,firstNameError:a,lastNameError:i,emailError:l,passwordError:b,confirmPasswordError:f}}};Re.render=xe;var Pe=Re,Me=Object(a["O"])("data-v-0cab938a");Object(a["B"])("data-v-0cab938a");var Ie={class:"row"},Ce={class:"center-container col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-xl-4 offset-xl-4"},Se={class:"form-container px-5 py-5"},Ee=Object(a["j"])("h4",{class:"h4 title","data-test-id":"title"},"It happens from time to time",-1),_e=Object(a["j"])("p",{class:"mb-3"},"Enter your email address used to create your account and we will send you instructions for resetting your password.",-1),We={class:"red","data-test-id":"forgot-password-email-error"},Ae=Object(a["j"])("button",{class:"button",type:"submit"},"Reset Password",-1),ze={class:"form-message"},Ne=Object(a["i"])("Remembered your password?"),qe=Object(a["i"])("Log in");Object(a["z"])();var Ue=Me((function(e,t,r,s,c,i){var o=Object(a["D"])("router-link");return Object(a["y"])(),Object(a["e"])("div",Ie,[Object(a["j"])("div",Ce,[Object(a["j"])("div",Se,[Ee,_e,Object(a["j"])("form",{onSubmit:t[2]||(t[2]=Object(n["c"])((function(){return s.sendForgotPasswordEmail.apply(s,arguments)}),["prevent"]))},[Object(a["N"])(Object(a["j"])("input",{class:"input last-input",type:"text",placeholder:"Email address","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.email=e}),"data-test-id":"forgot-password-email-input"},null,512),[[n["b"],s.email]]),Object(a["j"])("span",We,Object(q["C"])(s.emailError),1),Ae],32),Object(a["j"])("div",ze,[Object(a["j"])("p",null,[Ne,Object(a["j"])(o,{to:{name:"Login"}},{default:Me((function(){return[qe]})),_:1})])])])])])})),Te={setup:function(){var e=Object(te["b"])(),t=e.handleSubmit,r=Object(te["a"])("email",ne),n=r.errorMessage,a=r.value,s=t(function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Le.sendForgotPasswordEmail(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}());return{email:a,emailError:n,sendForgotPasswordEmail:s}}};r("9a78");Te.render=Ue,Te.__scopeId="data-v-0cab938a";var Be=Te,Ve={class:"row align-items-center"},De={class:"col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-xl-4 offset-xl-4"},Fe={class:"center-container mx-lg-5 mx-xl-0"},He=Object(a["j"])("h4",{class:"h4 title","data-test-id":"title"},"Choose your new password",-1),Ke={class:"red","data-test-id":"reset-password-password-error"},Ye={class:"red","data-test-id":"reset-password-confirm-password-error"},Ze=Object(a["j"])("button",{class:"button",type:"submit"},"Update Password",-1);function $e(e,t,r,s,c,i){return Object(a["y"])(),Object(a["e"])("div",Ve,[Object(a["j"])("div",De,[Object(a["j"])("div",Fe,[He,Object(a["j"])("form",{onSubmit:t[3]||(t[3]=Object(n["c"])((function(){return s.updatePassword.apply(s,arguments)}),["prevent"]))},[Object(a["j"])("span",Ke,Object(q["C"])(s.passwordError),1),Object(a["N"])(Object(a["j"])("input",{class:"input",type:"password",placeholder:"New password","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.password=e}),"data-test-id":"reset-password-password-input"},null,512),[[n["b"],s.password]]),Object(a["j"])("span",Ye,Object(q["C"])(s.confirmPasswordError),1),Object(a["N"])(Object(a["j"])("input",{class:"input last-input",type:"password",placeholder:"Confirm password","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.confirmPassword=e}),"data-test-id":"reset-password-confirm-password-input"},null,512),[[n["b"],s.confirmPassword]]),Ze],32)])])])}var Ge={setup:function(){var e=Object(S["d"])(),t=Object(S["c"])(),r=Object(te["b"])(),n=r.handleSubmit;Object(a["v"])(Object(y["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Le.validateResetPasswordToken({userId:t.params.id,token:t.params.token});case 3:r.next=8;break;case 5:r.prev=5,r.t0=r["catch"](0),e.push({name:"Login",params:{alert:!0,alertMessage:"Link has expired.",alertIcon:"error"}});case 8:case"end":return r.stop()}}),r,null,[[0,5]])}))));var s=Object(te["a"])("password",ae),c=s.errorMessage,i=s.value,o=Object(te["a"])("confirmPassword",(function(e){return e===i.value||"Passwords are not the same."})),u=o.errorMessage,l=o.value,d=n(function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Le.updatePassword({userId:t.params.id,token:t.params.token},r);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}());return{password:i,passwordError:c,confirmPassword:l,confirmPasswordError:u,updatePassword:d}}};Ge.render=$e;var Je=Ge,Qe=Object(a["O"])("data-v-4e3b349d");Object(a["B"])("data-v-4e3b349d");var Xe={class:"full-container"};Object(a["z"])();var et=Qe((function(e,t,r,n,s,c){var i=Object(a["D"])("MovieListPreview");return Object(a["y"])(),Object(a["e"])("div",Xe,[(Object(a["y"])(!0),Object(a["e"])(a["b"],null,Object(a["C"])(n.movieLists,(function(e,t){return Object(a["y"])(),Object(a["e"])("div",{class:"col",key:t},[Object(a["j"])(i,{movieList:e},null,8,["movieList"])])})),128))])})),tt=function(){function e(){Object(W["a"])(this,e)}return Object(A["a"])(e,[{key:"getWishList",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Wr.get("/wishList",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addMovie",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Wr.put("wishlist/add/".concat(t));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeMovie",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Wr.put("wishlist/remove/".concat(t));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),rt=new tt,nt=function(){function e(){Object(W["a"])(this,e)}return Object(A["a"])(e,[{key:"getWatchedList",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Wr.get("/watchedlist",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addMovie",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Wr.put("watchedList/add/".concat(t));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeMovie",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Wr.put("watchedList/remove/".concat(t));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),at=new nt,st=Object(a["O"])("data-v-03e59b20");Object(a["B"])("data-v-03e59b20");var ct={class:"h4 my-3"},it={class:"row"},ot={key:0,class:"mb-4"},ut={key:1,class:"d-flex flex-row"},lt=Object(a["i"])("View More");Object(a["z"])();var dt=st((function(e,t,r,n,s,c){var i=Object(a["D"])("router-link");return Object(a["y"])(),Object(a["e"])(a["b"],null,[Object(a["j"])("h4",ct,Object(q["C"])(r.movieList.titleList),1),Object(a["j"])("div",it,[r.movieList.items[0]?(Object(a["y"])(),Object(a["e"])("div",ut,[(Object(a["y"])(!0),Object(a["e"])(a["b"],null,Object(a["C"])(r.movieList.items,(function(e,t){return Object(a["y"])(),Object(a["e"])("div",{class:"px-2",key:t},[Object(a["j"])("img",{class:"movie-img",src:e.primaryImage.url,width:"165",height:"244"},null,8,["src"])])})),128)),Object(a["j"])(i,{class:"d-flex align-items-end",to:{name:"MovieList",query:n.queryParams}},{default:st((function(){return[lt]})),_:1},8,["to"])])):(Object(a["y"])(),Object(a["e"])("p",ot,"No movies added in this list so far."))])],64)})),pt={name:"MovieListPreview",props:["movieList"],setup:function(e){var t={pageSize:30,titleList:e.movieList.titleList};return e.movieList.genre&&(t["genre"]=e.genre),e.movieList.isWishList&&(t["isWishList"]=!0),e.movieList.isWatchedList&&(t["isWatchedList"]=!0),{queryParams:t}}};r("218f");pt.render=dt,pt.__scopeId="data-v-03e59b20";var bt=pt,mt={components:{MovieListPreview:bt},setup:function(){var e=Object(M["l"])([]);return Object(a["v"])(Object(y["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,rt.getWishList({pageSize:8});case 2:return r=t.sent,e.value.push({items:r.data,pageSize:8,titleList:"My wishlist",isWishList:!0}),t.next=6,at.getWatchedList({pageSize:8});case 6:return r=t.sent,e.value.push({items:r.data,pageSize:8,titleList:"Watched Movies",isWatchedList:!0}),t.next=10,zr.getMovies({pageSize:8});case 10:return r=t.sent,e.value.push({items:r.data,pageSize:8,titleList:"Recent added on Myflix"}),t.next=14,zr.getMovies({pageSize:8,genre:"Action"});case 14:r=t.sent,e.value.push({items:r.data,pageSize:8,genre:"Action",titleList:"Recent added in Action"});case 16:case"end":return t.stop()}}),t)})))),Object(a["s"])((function(){document.querySelector("body").setAttribute("style","background: #282828")})),{movieLists:e}}};r("031b");mt.render=et,mt.__scopeId="data-v-4e3b349d";var jt=mt,ft=Object(a["O"])("data-v-a5e4ffe0");Object(a["B"])("data-v-a5e4ffe0");var vt={class:"h2 d-flex align-items-center justify-content-center","data-test-id":"title"},Ot=Object(a["i"])("Your account has been activated."),gt=Object(a["i"])("Go to"),ht=Object(a["i"])("login");Object(a["z"])();var wt=ft((function(e,t,r,n,s,c){var i=Object(a["D"])("router-link");return Object(a["y"])(),Object(a["e"])("h2",vt,[Ot,Object(a["j"])("h4",null,[gt,Object(a["j"])(i,{to:{name:"Login"}},{default:ft((function(){return[ht]})),_:1})])])})),yt={setup:function(){var e=Object(S["d"])(),t=Object(S["c"])();Object(a["v"])(Object(y["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Le.activateAccount(t.params.token);case 3:r.next=8;break;case 5:r.prev=5,r.t0=r["catch"](0),e.push({name:"Login",params:{alert:!0,alertMessage:"Link has expired.",alertIcon:"error"}});case 8:case"end":return r.stop()}}),r,null,[[0,5]])}))))}};r("4bd1");yt.render=wt,yt.__scopeId="data-v-a5e4ffe0";var xt=yt,kt={class:"center-container"},Lt=Object(a["j"])("h2",{class:"h2 d-flex align-items-center justify-content-center","data-test-id":"not-found-title"},"Page not found. :(",-1);function Rt(e,t){return Object(a["y"])(),Object(a["e"])("div",kt,[Lt])}const Pt={};Pt.render=Rt;var Mt=Pt,It={class:"center-container col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-xl-6 offset-xl-3"},Ct=Object(a["j"])("h1",{class:"h1"},"Your movies. Your shows. Your way.",-1),St=Object(a["j"])("h4",{class:"h4"},"Your personal database for movies and TV shows",-1),Et={class:"mt-4 mb-5"};function _t(e,t,r,n,s,c){return Object(a["y"])(),Object(a["e"])("div",It,[Ct,St,Object(a["j"])("div",Et,[Object(a["j"])("button",{class:"button py-3 h4",onClick:t[1]||(t[1]=function(){return n.register.apply(n,arguments)})},"Register Now")])])}var Wt={setup:function(){var e=Object(S["d"])(),t=function(){e.push({name:"Register"})};return{register:t}}};Wt.render=_t;var At=Wt,zt=Object(a["O"])("data-v-0829348e");Object(a["B"])("data-v-0829348e");var Nt={class:"full-container"},qt={class:"h3 mb-4"},Ut={class:"d-flex flex-row flex-wrap"},Tt={class:"movie-title mt-1"};Object(a["z"])();var Bt=zt((function(e,t,r,n,s,c){var i=Object(a["D"])("router-link"),o=Object(a["D"])("Pagination");return Object(a["y"])(),Object(a["e"])("div",Nt,[Object(a["j"])("h3",qt,Object(q["C"])(n.titleList),1),Object(a["j"])("div",Ut,[(Object(a["y"])(!0),Object(a["e"])(a["b"],null,Object(a["C"])(n.movies,(function(e,t){return Object(a["y"])(),Object(a["e"])("div",{class:"me-3 my-3",key:t},[Object(a["j"])(i,{class:"router-link",to:{path:"/movie/".concat(e.id)}},{default:zt((function(){return[Object(a["j"])("img",{class:"movie-img",src:e.primaryImage.url,width:"165",height:"244"},null,8,["src"]),Object(a["j"])("p",Tt,Object(q["C"])(e.title),1)]})),_:2},1032,["to"])])})),128))]),Object(a["j"])(o,{onCurrentPage:n.changeCurrentPage,paginationParams:n.paginationParams},null,8,["onCurrentPage","paginationParams"])])})),Vt=Object(a["O"])("data-v-cd0dc9f4");Object(a["B"])("data-v-cd0dc9f4");var Dt={class:"row mt-3 mb-5"},Ft=Object(a["j"])("i",{class:"fas fa-angle-double-left"},null,-1),Ht=Object(a["j"])("span",{class:"mx-1"},"Back",-1),Kt=Object(a["j"])("span",{class:"mx-1"},"Next",-1),Yt=Object(a["j"])("i",{class:"fas fa-angle-double-right"},null,-1);Object(a["z"])();var Zt=Vt((function(e,t,r,n,s,c){return Object(a["y"])(),Object(a["e"])("div",Dt,[r.paginationParams.HasPrevious?(Object(a["y"])(),Object(a["e"])("div",{key:0,class:"col-1 offset-5 pointer",onClick:t[1]||(t[1]=function(){return n.back.apply(n,arguments)})},[Ft,Ht])):Object(a["f"])("",!0),r.paginationParams.HasNext?(Object(a["y"])(),Object(a["e"])("div",{key:1,class:"col-1 pointer",onClick:t[2]||(t[2]=function(){return n.next.apply(n,arguments)})},[Kt,Yt])):Object(a["f"])("",!0)])})),$t={name:"Pagination",props:["paginationParams"],emits:["currentPage"],setup:function(e,t){var r=e.paginationParams.CurrentPage,n=function(){r>0&&r--,t.emit("currentPage",parseInt(r.value))},a=function(){r<e.paginationParams.TotalCount&&r++,t.emit("currentPage",parseInt(r.value))};return{next:a,back:n}}};r("7e44");$t.render=Zt,$t.__scopeId="data-v-cd0dc9f4";var Gt=$t,Jt={components:{Pagination:Gt},setup:function(){var e=Object(S["c"])(),t=e.query.titleList,r=Object(M["l"])({}),n=Object(M["l"])([]),s=Object(M["l"])({pageSize:30,currentPage:1});e.query.pageSize&&(s.value["pageSize"]=e.query.pageSize),e.query.genre&&(s.value["genre"]=e.query.genre),e.query.title&&(s.value["title"]=e.query.title),Object(a["v"])(Object(y["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.query.isWishlist){t.next=6;break}return t.next=3,rt.getWishList(s.value);case 3:a=t.sent,t.next=15;break;case 6:if(!e.query.isWatchedList){t.next=12;break}return t.next=9,at.getWatchedList(s.value);case 9:a=t.sent,t.next=15;break;case 12:return t.next=14,zr.getMovies(s.value);case 14:a=t.sent;case 15:r.value=a.headers["x-pagination"],n.value=a.data;case 17:case"end":return t.stop()}}),t)})))),Object(a["K"])(s,Object(y["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.query.isWishlist){t.next=6;break}return t.next=3,rt.getWishList(s.value);case 3:a=t.sent,t.next=15;break;case 6:if(!e.query.isWatchedList){t.next=12;break}return t.next=9,at.getWatchedList(s.value);case 9:a=t.sent,t.next=15;break;case 12:return t.next=14,zr.getMovies(s.value);case 14:a=t.sent;case 15:r.value=a.headers["x-pagination"],n.value=a.data;case 17:case"end":return t.stop()}}),t)}))));var c=function(){s.value.currentPage+=1};return Object(a["s"])((function(){document.querySelector("body").setAttribute("style","background: #282828")})),{titleList:t,movies:n,paginationParams:r,changeCurrentPage:c}}};r("deca");Jt.render=Bt,Jt.__scopeId="data-v-0829348e";var Qt=Jt,Xt=r("a8b1"),er=r.n(Xt),tr=Object(a["O"])("data-v-e31a5830");Object(a["B"])("data-v-e31a5830");var rr={class:"row pt-5 mt-5"},nr=Object(a["j"])("h4",{class:"h4 offset-3"},"Extract the movie's id from IMDb and create the movie instantly.",-1),ar={class:"col-4 offset-3"},sr={class:"col-2"},cr=Object(a["j"])("div",{class:"offset-3 py-5"},[Object(a["j"])("h4",{class:"h4 font-italic"},"Copy this part from the url:"),Object(a["j"])("img",{src:er.a})],-1);Object(a["z"])();var ir=tr((function(e,t,r,s,c,i){return Object(a["y"])(),Object(a["e"])(a["b"],null,[Object(a["j"])("div",rr,[nr,Object(a["j"])("div",ar,[Object(a["N"])(Object(a["j"])("input",{class:"input mt-0",type:"text",placeholder:"Paste IMDb movie id here","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.imdbId=e})},null,512),[[n["b"],s.imdbId]])]),Object(a["j"])("div",sr,[Object(a["j"])("button",{class:"button",onClick:t[2]||(t[2]=function(){return s.addMovie.apply(s,arguments)})},"Create")])]),cr],64)})),or={setup:function(){var e=Object(M["l"])(""),t=function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,zr.addMovie({imdbId:e.value});case 3:t.sent,ie.fire({icon:"success",title:"Movie added successfully"}),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),ie.fire({icon:"error",title:"Id not valid or movie is already in myflix database"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(a["s"])((function(){document.querySelector("body").setAttribute("style","background: #282828")})),{addMovie:t,imdbId:e}}};r("6003");or.render=ir,or.__scopeId="data-v-e31a5830";var ur=or,lr=(r("b0c0"),{class:"row"}),dr={class:"col-4"},pr={class:"info col-8"},br={class:"h3"},mr={class:"fst-italic"},jr={class:"d-flex my-2"},fr=Object(a["j"])("h5",{class:"me-4"},"Genres:",-1),vr=Object(a["j"])("h5",{class:"my-0"},"Plot:",-1),Or={class:"mb-4"},gr={class:"mb-2"},hr={class:"mb-2"},wr={class:"d-flex mt-5"},yr={class:"wishlist me-4"},xr=Object(a["j"])("h5",null,"Wishlist:",-1),kr={class:"watched"},Lr=Object(a["j"])("h5",null,"Watched:",-1);function Rr(e,t,r,n,s,c){return Object(a["y"])(),Object(a["e"])("div",lr,[Object(a["j"])("div",dr,[Object(a["j"])("img",{class:"rounded mx-auto d-block",src:n.movie.primaryImage.url,width:"300",height:"450"},null,8,["src"])]),Object(a["j"])("div",pr,[Object(a["j"])("h3",br,Object(q["C"])(n.movie.title),1),Object(a["j"])("h6",mr,Object(q["C"])(n.movie.titleType),1),Object(a["j"])("div",jr,[fr,(Object(a["y"])(!0),Object(a["e"])(a["b"],null,Object(a["C"])(n.movie.genres,(function(e,t){return Object(a["y"])(),Object(a["e"])("p",{class:"px-2",key:t},Object(q["C"])(e.name),1)})),128))]),vr,Object(a["j"])("p",Or,Object(q["C"])(n.movie.plot),1),Object(a["j"])("h6",gr,"Runtime: "+Object(q["C"])(n.movie.runtimeSeconds)+" seconds",1),Object(a["j"])("h6",hr,"Released at: "+Object(q["C"])(n.movie.releaseDate),1),Object(a["j"])("div",wr,[Object(a["j"])("div",yr,[xr,n.movie.inWishList?(Object(a["y"])(),Object(a["e"])("button",{key:1,class:"button-small",onClick:t[2]||(t[2]=function(){return n.removeWishlist.apply(n,arguments)})},"Remove")):(Object(a["y"])(),Object(a["e"])("button",{key:0,class:"button-small",onClick:t[1]||(t[1]=function(){return n.addWishlist.apply(n,arguments)})},"Add"))]),Object(a["j"])("div",kr,[Lr,n.movie.inWatchedList?(Object(a["y"])(),Object(a["e"])("button",{key:1,class:"button-small",onClick:t[4]||(t[4]=function(){return n.removeWatchedList.apply(n,arguments)})},"Remove")):(Object(a["y"])(),Object(a["e"])("button",{key:0,class:"button-small",onClick:t[3]||(t[3]=function(){return n.addWatchedList.apply(n,arguments)})},"Add"))])])])])}var Pr={setup:function(){var e=Object(S["c"])(),t=Object(M["l"])({});Object(a["s"])(Object(y["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,zr.getMovie(e.params.id);case 2:n=r.sent,t.value=n.data,document.querySelector("body").setAttribute("style","background: #282828");case 5:case"end":return r.stop()}}),r)}))));var r=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,rt.addMovie(t.value.id);case 2:t.value.inWishList=!0;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,rt.removeMovie(t.value.id);case 2:t.value.inWishList=!1;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,at.addMovie(t.value.id);case 2:t.value.inWatchedList=!0;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,at.removeMovie(t.value.id);case 2:t.value.inWatchedList=!1;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{movie:t,addWishlist:r,removeWishlist:n,addWatchedList:s,removeWatchedList:c}}};Pr.render=Rr;var Mr=Pr,Ir=Object(E["a"])({state:{token:""},actions:{loginUser:function(e,t){return Object(y["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,Le.authenticate(t);case 3:a=r.sent,localStorage.setItem("token",a.data.jwtToken),localStorage.setItem("role",a.data.Role),n("setToken",a.data.jwtToken),Wr.defaults.headers.common["Authorization"]="Bearer ".concat(a.data.jwtToken);case 8:case"end":return r.stop()}}),r)})))()},logout:function(e){var t=e.commit;try{localStorage.removeItem("token"),t("setToken",""),Wr.defaults.headers.common["Authorization"]=null}catch(r){console.log(r)}},setToken:function(e,t){var r=e.commit;r("setToken",t)}},mutations:{setToken:function(e,t){return e.token=t}},getters:{token:function(e){return e.token},isLoggedIn:function(e){return!!e.token}}}),Cr=Ir,Sr=[{path:"/",beforeEnter:function(e,t){return Cr.getters.isLoggedIn?{path:"/home"}:{path:"/welcome"}}},{path:"/welcome",name:"LandingPage",component:At,meta:{forVisitor:!0}},{path:"/login",name:"Login",component:ue,meta:{forVisitor:!0}},{path:"/register",name:"Register",component:Pe,meta:{forVisitor:!0}},{path:"/forgot-password",name:"ForgotPassword",component:Be,meta:{forVisitor:!0}},{path:"/reset-password/:id/:token",name:"ResetPassword",component:Je},{path:"/verify-email/:token",name:"AccountActivation",component:xt},{path:"/home",name:"HomePage",component:jt,meta:{requiresAuth:!0}},{path:"/list",name:"MovieList",component:Qt,meta:{requiresAuth:!0}},{path:"/movie/:id",name:"Movie",component:Mr,meta:{requiresAuth:!0}},{path:"/add-movie",name:"AddMovie",component:ur,meta:{requiresAuth:!0}},{path:"/:pathMatch(.*)*",component:Mt}],Er=Object(S["a"])({history:Object(S["b"])("/"),routes:Sr});Er.beforeEach((function(e,t){var r="Admin"==localStorage.getItem("role");return e.meta.requiresAuth&&!Cr.getters.isLoggedIn?{path:"/login"}:!(e.meta.forVisitor&&Cr.getters.isLoggedIn||!e.meta.forVisitor&&Cr.getters.isLoggedIn&&!r&&e.meta.forAdmin)||{path:"/home"}}));var _r=Er,Wr=N.a.create({baseURL:"https://myflixapi.azurewebsites.net",timeout:5e3,headers:{"Content-Type":"application/json"}});Wr.interceptors.response.use((function(e){return e}),(function(e){return e.response&&401===e.response.status&&(Cr.dispatch("logout"),_r.push({name:"Login",params:{alert:!0,alertMessage:"Your session has expired.",alertIcon:"error"}})),Promise.reject(e)}));var Ar=function(){function e(){Object(W["a"])(this,e)}return Object(A["a"])(e,[{key:"getMovies",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Wr.get("/movies",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getMovie",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Wr.get("/movies/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addMovie",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Wr.post("/movies",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),zr=new Ar,Nr={name:"NavigationBar",components:{Search:C},directives:{clickOutside:_},setup:function(){var e=Object(E["b"])(),t=Object(S["d"])(),r=function(){e.dispatch("logout"),t.push({name:"Login"})},n=Object(M["c"])((function(){return e.getters.isLoggedIn})),a=function(){document.getElementById("dropdown-menu").classList.toggle("show")},s=function(){document.getElementById("dropdown-menu").classList.remove("show")},c=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.push({name:"MovieList",query:{title:r,titleList:"Search Results for '".concat(r,"'")}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{logout:r,isLoggedIn:n,toggleDropdown:a,removeDropdown:s,searchInput:c}}};r("aae8");Nr.render=w,Nr.__scopeId="data-v-2960d9d9";var qr=Nr,Ur={components:{NavigationBar:qr},created:function(){var e=localStorage.getItem("token");e&&(this.$store.dispatch("setToken",e),Wr.defaults.headers.common["Authorization"]="Bearer ".concat(e))}};r("0dfa");Ur.render=s;var Tr=Ur;r("ab8b");Object(n["a"])(Tr).use(_r).use(Cr).mount("#app")},"5bb0":function(e,t,r){e.exports=r.p+"img/myflix.aa62c2c2.png"},6003:function(e,t,r){"use strict";r("abb5")},"7e44":function(e,t,r){"use strict";r("acfd")},"7ead":function(e,t,r){},"8ab5":function(e,t,r){},"8c52":function(e,t,r){"use strict";r("7ead")},"9a78":function(e,t,r){"use strict";r("d545")},a8b1:function(e,t,r){e.exports=r.p+"img/imdb_url.9107ccb2.png"},aae8:function(e,t,r){"use strict";r("e59c")},abb5:function(e,t,r){},acfd:function(e,t,r){},b673:function(e,t,r){},cffa:function(e,t,r){},d545:function(e,t,r){},deca:function(e,t,r){"use strict";r("b673")},e59c:function(e,t,r){}});
//# sourceMappingURL=index.7af54d02.js.map