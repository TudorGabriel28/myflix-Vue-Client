{"version":3,"sources":["webpack:///./src/views/MovieList.vue","webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?f3d0","webpack:///./src/views/MovieList.vue?7809","webpack:///./src/views/MovieList.vue?bf15","webpack:///./src/components/Pagination.vue?a8b8"],"names":["name","props","emits","setup","context","currentPage","value","paginationParams","CurrentPage","back","emit","parseInt","next","TotalCount","render","__scopeId","components","Pagination","route","titleList","query","movies","movieParams","pageSize","genre","title","moviesRequest","isWishlist","wishListService","getWishList","response","isWatchedList","watchedListService","getWatchedList","movieService","getMovies","JSON","parse","headers","data","changeCurrentPage","document","querySelector","setAttribute"],"mappings":"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","file":"js/MovieList.8e25d72c.js","sourcesContent":["<template lang=\"pug\">\n.col-md-10.offset-md-1\n  h3.h3.mb-4 {{ titleList }}\n  .d-flex.flex-row.flex-wrap.justify-content-center\n    .me-3.my-3(v-for='(movie, index) in movies', :key='index')\n      router-link.movie-preview(:to='{ path: `/movie/${movie.id}` }')\n        img.movie-img(:src='movie.primaryImage.url', width='165', height='244')\n        p.movie-title-preview.mt-1 {{ movie.title }}\n  Pagination(\n    @currentPage='changeCurrentPage',\n    :paginationParams='paginationParams'\n  )\n</template>\n\n<script>\nimport { onMounted, onBeforeMount } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { wishListService } from '../services/wishListService';\nimport { watchedListService } from '../services/watchedListService';\nimport { movieService } from '../services/movieService';\nimport { ref, watch } from 'vue';\nimport Pagination from '../components/Pagination.vue';\n\nexport default {\n  components: { Pagination },\n  setup() {\n    const route = useRoute();\n    const titleList = route.query.titleList;\n    const paginationParams = ref({});\n    const movies = ref([]);\n    const movieParams = ref({ pageSize: 30, currentPage: 1 });\n    if (route.query.pageSize) {\n      movieParams.value['pageSize'] = route.query.pageSize;\n    }\n    if (route.query.genre) {\n      movieParams.value['genre'] = route.query.genre;\n    }\n    if (route.query.title) {\n      movieParams.value['title'] = route.query.title;\n    }\n    onMounted(async () => await moviesRequest());\n\n    watch(movieParams, async () => await moviesRequest());\n\n    const moviesRequest = async () => {\n      var response;\n      if (route.query.isWishlist) {\n        response = await wishListService.getWishList(movieParams.value);\n      } else if (route.query.isWatchedList) {\n        response = await watchedListService.getWatchedList(movieParams.value);\n      } else {\n        response = await movieService.getMovies(movieParams.value);\n      }\n      paginationParams.value = JSON.parse(response.headers['x-pagination']);\n\n      movies.value = response.data;\n    };\n\n    const changeCurrentPage = () => {\n      movieParams.value.currentPage += 1;\n    };\n\n    onBeforeMount(() => {\n      document\n        .querySelector('body')\n        .setAttribute('style', 'background: #282828');\n    });\n\n    return {\n      titleList,\n      movies,\n      paginationParams,\n      changeCurrentPage\n    };\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n@require \"../assets/styles/colors.styl\"\n\n.full-container\n  padding: 0 5rem\n\n</style>","<template lang=\"pug\">\r\n.row.mt-3.mb-5\r\n  .col-1.offset-5.pointer(@click='back', v-if='paginationParams.HasPrevious')\r\n    i.fas.fa-angle-double-left\r\n    span.mx-1 Back\r\n  .col-1.pointer(@click='next', v-if='paginationParams.HasNext')\r\n    span.mx-1 Next\r\n    i.fas.fa-angle-double-right\r\n  p {{ paginationParams }}\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, ref } from 'vue';\r\n\r\nexport default {\r\n  name: 'Pagination',\r\n  props: ['paginationParams'],\r\n  emits: ['currentPage'],\r\n  setup(props, context) {\r\n    const currentPage = ref();\r\n    currentPage.value = props.paginationParams.CurrentPage;\r\n    const back = () => {\r\n      if (currentPage.value > 0) {\r\n        currentPage.value--;\r\n      }\r\n      context.emit('currentPage', parseInt(currentPage.value));\r\n    };\r\n\r\n    const next = () => {\r\n      if (currentPage.value < props.paginationParams.TotalCount) {\r\n        currentPage.value++;\r\n      }\r\n      context.emit('currentPage', parseInt(currentPage.value));\r\n    };\r\n\r\n    return {\r\n      next,\r\n      back\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.pointer\r\n  cursor pointer\r\n\r\n</style>","import { render } from \"./Pagination.vue?vue&type=template&id=1bda6802&scoped=true&lang=pug\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport \"./Pagination.vue?vue&type=style&index=0&id=1bda6802&lang=stylus&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-1bda6802\"\n\nexport default script","import { render } from \"./MovieList.vue?vue&type=template&id=423df748&scoped=true&lang=pug\"\nimport script from \"./MovieList.vue?vue&type=script&lang=js\"\nexport * from \"./MovieList.vue?vue&type=script&lang=js\"\n\nimport \"./MovieList.vue?vue&type=style&index=0&id=423df748&lang=stylus&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-423df748\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MovieList.vue?vue&type=style&index=0&id=423df748&lang=stylus&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Pagination.vue?vue&type=style&index=0&id=1bda6802&lang=stylus&scoped=true\""],"sourceRoot":""}